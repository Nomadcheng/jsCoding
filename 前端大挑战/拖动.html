<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>拖动</title>
    <style media="screen">
      #main {
        background-color: aqua;
        width: 100px;
        height: 100px;
        position: absolute;
        left: 50px;
        top: 50px;
      }
      #title {
        height: 10px;
        width: 100%;
        background-color: antiquewhite;
        position: absolute;
        left: 0px;
        top: 0px;
      }
    </style>
  </head>
  <body>
    <div id="main">
      <div id="title"></div>
      <div class="box"></div>
    </div>
    <script type="text/javascript">
      var startX, startY, startLeft, startTop;
      var titleDiv = document.getElementById('title');
      var mainDiv = document.getElementById('main');
      var isDown = false;
      //按下鼠标
      function movedown(e) {
        e = e || window.event;
        isDown = true;
        startX = e.clientX;
        startY = e.clientY;
        startLeft = mainDiv.offsetLeft;
        startTop = mainDiv.offsetTop;
      }
      //鼠标移动
      function move(e) {
        e = e || window.event;
        if (isDown) {
          mainDiv.style.left = e.clientX - (startX - startLeft) + "px";
          mainDiv.style.top = e.clientY - (startY - startTop) + "px";
          console.log(mainDiv.style.left);
        }
      }
      //鼠标松开
      function moveup(e) {
        isDown = false;
      }
      titleDiv.onmousedown = movedown;
      titleDiv.onmousemove = move;
      titleDiv.onmouseup = moveup;
    </script>
  </body>
</html>
